<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Brawler Counterpick Calculator</title>

<script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>

<style>
    html,body{height:100%;margin:0}
    body{
        display:flex;flex-direction:column;justify-content:center;align-items:center;
        font-family:'Segoe UI',Roboto,Arial,sans-serif;
        background:#222 url('https://images.unsplash.com/photo-1746118335815-466205f26884?q=80&w=968&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D') center/cover no-repeat fixed;
        color:#f8f8f8;text-align:center;padding:2rem 1rem;box-sizing:border-box
    }
    .card{
        background:rgba(0,0,0,.65);
        backdrop-filter:blur(6px);
        border-radius:12px;
        padding:2.5rem 3rem;max-width:720px;width:100%;
        box-shadow:0 0 18px rgba(0,0,0,.45)
    }
    h1{margin-top:0;margin-bottom:1.25rem;text-shadow:0 0 8px rgba(0,0,0,.5)}

    label{display:block;margin:.5rem 0 .25rem;font-weight:600}
    input[type=text]{
        margin-left: -1rem;
        width:100%;padding:.65rem 1rem;font-size:1rem;
        border-radius:8px;border:none;margin-bottom:1rem
    }
    button{
        padding:.8rem 2.25rem;font-size:1.1rem;font-weight:700;
        border:0;border-radius:8px;background:#ffca28;color:#111;cursor:pointer;
        transition:transform .1s ease
    }
    button:hover{transform:scale(1.04)}
    input[type=file]{margin:1.5rem 0 0}

    pre{
        white-space:pre-wrap;background:#111a;padding:1rem 1.5rem;
        border-radius:8px;margin-top:1.75rem;max-height:60vh;overflow:auto
    }
    .footer{margin-top:2rem;font-size:.75rem;opacity:.8}
</style>
</head>
<body>
<div class="card">
    <h1>Brawler Counterpick Calculator</h1>

    <label for="b1">Brawler&nbsp;1</label>
    <input id="b1" type="text" list="brawlers" autocomplete="off">

    <label for="b2">Brawler&nbsp;2</label>
    <input id="b2" type="text" list="brawlers" autocomplete="off">

    <label for="b3">Brawler&nbsp;3&nbsp;</label>
    <input id="b3" type="text" list="brawlers" autocomplete="off">

    <datalist id="brawlers"></datalist>

    <button id="go">Go</button>

    <pre id="output"></pre>

</div>

<script>
const brawlerNames = [
"8bit","Amber","Angelo","Ash","Barley","Bea","Belle","Berry","Bibi","Bo","Bonnie","Brock",
"Bull","Buster","Buzz","Byron","Carl","Charlie","Chester","Chuck","Clancy","Colette","Colt",
"Cordelius","Crow","Darryl","Doug","Draco","Dynamike","Edgar","El Primo","Emz","Eve","Fang",
"Frank","Gale","Gene","Gray","Griff","Grom","Gus","Hank","Jacky","Janet","Jesse","Juju",
"Kenji","Kit","Larry","Leon","Lily","Lola","Lou","Maisie","Mandy","Max","Meple","Meg",
"Melodie","Mico","Moe","Mortis","Mr P","Nani","Nita","Otis","Pam","Pearl","Penny","Piper",
"Poco","RT","Rico","Rosa","Ruffs","Sam","Sandy","Shade","Shelly","Spike","Sprout","Squeak",
"Stu","Surge","Tara","Tick","Willow"
];

document.addEventListener("DOMContentLoaded",()=>{
  const dl = document.getElementById("brawlers");
  brawlerNames.forEach(n=>{const o=document.createElement("option");o.value=n;dl.appendChild(o)});
});

const pyReady = (async ()=>{
  const pyodide = await loadPyodide();
  await pyodide.loadPackage("micropip");
  const pythonSrc = `
#
key = {
"8bit":["Penny","Brock","Squeak","Piper"],
"Amber":["Carl","Crow","Piper","Belle","Pam"],
"Angelo":["Kit","Max","Nani"],
"Ash":["Rosa","Frank","Bull","Surge","T>Anti-Tanks"],
"Barley":["Mico","Kenji","Edgar","Mortis","T>Assassins"],
"Bea":["Piper","Sprout","Mr. P","T>Throwers"],
"Belle":["Nani","Darryl","Piper"],
"Berry":["Barley","Kenji","Mortis","T>Assassins"],
"Bibi":["Surge","El Primo","Cordelius","Shelly"],
"Bo":["Piper","Stu","Max","Leon"],
"Bonnie":["Piper","Darryl","RT","Colette"],
"Brock":["Max","Nani","Piper","Mandy"],
"Bull":["Nita","Griff","Gale","T>Anti-tanks"],
"Buster":["Rosa","Darryl","Jacky","Buzz","Primo"],
"Buzz":["Surge","Gale","Jacky"],
"Byron":["Piper","Lou","Sprout"],
"Carl":["Buzz","Surge","Darryl","Jacky","Gene"],
"Charlie":["Penny","Barley","Sandy","Juju","Larry"],
"Chester":["Janet","Amber","Stu","Gale"],
"Chuck":["Cordelius","Bull","Angelo","Clancy","Melodie"],
"Clancy":["Belle","Tara","Penny"],
"Colette":["Belle","Stu","Bea","Griff","Jessie"],
"Colt":["Piper","Belle","Gus"],
"Cordelius":["Frank","Buster","Surge","Nita"],
"Crow":["Piper","Spike","T>Tanks"],
"Darryl":["Cordelius","Otis","Clancy"],
"Doug":["Frank","Clancy","Griff"],
"Draco":["Lou","Nita","Frank"],
"Dynamike":["Mico","Mortis","Kenji","Edgar"],
"Edgar":["Surge","Doug","Jacky","Shelly"],
"El Primo":["Cordelius","Gale","Shelly"],
"Emz":["Mortis","Barley","Juju","Larry","Janet"],
"Eve":["Piper","Penny","Janet","Max"],
"Fang":["Clancy","Otis","Shelly","Gale"],
"Frank":["Collete","Primo","Griff","Chester"],
"Gale":["Janet","Amber","T>Thrower","Penny"],
"Gene":["Mr P","Penny","Tara","Eve","Charlie","Bell"],
"Gray":["Mr P","Charlie","Gus"],
"Griff":["Lola","Stu","Bea"],
"Grom":["Mico","Mortis","T>Assassins"],
"Gus":["Piper","Mr P","Darryl"],
"Hank":["Dynamike","Frank","Gale"],
"Jacky":["Frank","Gale","Rosa"],
"Janet":["Frank","Carl","Kenji","Bell"],
"Jesse":["T>Thrower","Bell","Squeak"],
"Juju":["Frank","Tick","Larry","T>Wallbreaker"],
"Kenji":["Frank","Draco","Primo"],
"Kit":["Charlie","Cordelius","RT","Chester"],
"Larry":["Tick","Edgar","Kenji"],
"Leon":["Crow","Stu","Pearl"],
"Lily":["RT","Jacky","Bull","Shelly"],
"Lola":["Bell","Penny","Amber"],
"Lou":["Bell","Bea","Bo","Poco","T>Thrower"],
"Maisie":["Barley","Stu","Bell","Penny"],
"Mandy":["Nani","Tick","Mortis","T>Thrower"],
"Max":["Crow","Gus","Pam","Stu"],
"Meple":["Kenji","Frank","Ash"],
"Meg":["Colette","Lou","Lola","Bea"],
"Melodie":["Clancy","Cordelius","Buzz"],
"Mico":["RT","Bull","Stu"],
"Moe":["Penny","Darryl","Larry"],
"Mortis":["Jacky","Shade","Bull","Gale","Shelly"],
"Mr P":["Edgar","Mortis","Bibi"],
"Nani":["Gene","Max","Darryl","Tick"],
"Nita":["Barley","Juju","Larry","Spike","Griff"],
"Otis":["Barley","Juju","Larry","Stu","Amber"],
"Pam":["Jesse","Lou","8-Bit","Collete"],
"Pearl":["Lou","8-Bit","Buster"],
"Penny":["T>Thrower","Squeak","Kenji","Bo"],
"Piper":["Nani","Tick","Kit","Kenji"],
"Poco":["Emz","Mortis","Jesse"],
"RT":["T>Thrower","Gus","Max","Bo"],
"Rico":["T>Thrower","Brock","Piper","Stu"],
"Rosa":["Shelly","Emz","Frank"],
"Ruffs":["Buzz","Carl","Sprout","T>Assassins"],
"Sam":["Surge","Lou","Griff"],
"Sandy":["Nita","Janet","Kenji","Larry"],
"Shade":["Frank","Lou","Jacky"],
"Shelly":["Stu","Nita","Spike","Penny"],
"Spike":["T>Thrower","Squeak","Carl","Piper"],
"Sprout":["Mico","Mortis","Edgar","Frank"],
"Squeak":["T>Assasins","Ash","Kenji","Mortis","Buzz"],
"Stu":["T>Healer","T>Sniper","Ruffs","Penny","Sandy","Poco","Belle"],
"Surge":["T>Thrower","Ruffs","Tara","Charlie","Spike"],
"Tara":["T>Thrower","Otis","Sandy","Janet"],
"Tick":["Mico","Mortis","Darryl","Bibi"],
"Willow":["Barley","Larry","Buzz"]
}
def countBrawler(name, counts): counts[name]=counts.get(name,0)+1
def returnBrawlerString(name,counterclasses=True):
    brawlerList=[]; counterClass="Counter Classes: "; count=0
    for counter in key[name]:
        if "T>" in counter:
            counterClass+=((", " if count else "")+counter[2:]); count+=1; continue
        brawlerList.append(counter)
    return("—"*44+"\\n"+f"{name} Counters: "+", ".join(brawlerList)+
           (("\\n"+counterClass)*(count>0)*counterclasses)+"\\n"+"—"*44)
def handleCases(name):
    n=name.lower()
    if "primo" in n: return "El Primo"
    if "miko"  in n: return "Mico"
    if "mike"  in n: return "Dynamike"
    if "barry" in n: return "Berry"
    return name.title()
def calculate(inputs):
    selected=set(); counts={}; blist=[]
    for raw in inputs:
        if not raw: continue
        b=handleCases(raw.strip())
        if b in selected or b not in key: continue
        selected.add(b); blist.append(b)
        for x in key[b]: countBrawler(x,counts)
    out="";                    # assemble final string
    for b in blist: out+=returnBrawlerString(b,False)+"\\n"
    d=[k for k,v in counts.items() if v==2]
    t=[k for k,v in counts.items() if v==3]
    if d or t:
        out+="—"*44+"\\n"
        if d: out+="Double Overlaps: "+", ".join(d)+"\\n"
        if t: out+="Triple Overlaps: "+", ".join(t)+"\\n"
        out+="—"*44
    return out
`;
  pyodide.runPython(pythonSrc);
  return pyodide;
})();

const outputEl = document.getElementById("output");
async function runCalc(){
  const py = await pyReady;
  const calc = py.globals.get('calculate');
  const result = calc([
    document.getElementById("b1").value,
    document.getElementById("b2").value,
    document.getElementById("b3").value
  ]);
  outputEl.textContent = result;
}

document.getElementById("go").addEventListener("click",runCalc);
["b1","b2","b3"].forEach(id=>{
  document.getElementById(id).addEventListener("keydown",e=>{
    if(e.key==="Enter"){runCalc()}
  });
});

</script>
</body>
</html>
